description = "For a given React component, move the JSX template to lumx-core"
prompt = """
To migrate a React component's JSX template, tests, and stories to 'lumx-core' and update the 'lumx-react' wrapper, follow these steps.

**Step 1: Create the core component in `packages/lumx-core/src/js/components/[ComponentName]/index.tsx`**

This file will contain the primary logic, props, styling constants, and the actual JSX rendering of your component.

*   Move any display-related constants (like mappings of `kind` to `color`) directly into this file.
*   Use `handleBasicClasses` for standard class generation.
*   Import types and utilities from `../../types` and `../../utils` or `@lumx/core/...`.
*   **Crucial:** Ensure there are NO imports from `@lumx/react`. Any types or constants (like `Kind`, `Size`, `Theme`) must be imported from `@lumx/core` (e.g., `../../constants`).

Example (`packages/lumx-core/src/js/components/InputHelper/index.tsx`):
```tsx
import type { ReactNode } from 'react';
import { handleBasicClasses } from '@lumx/core/js/utils/_internal/className';
import type { LumxClassName, GenericProps, HasTheme } from '../../types';
import { classNames } from '../../utils';
import { Kind } from '../../constants';

export interface InputHelperProps extends GenericProps, HasTheme {
    children: ReactNode | string;
    kind?: Kind;
}

const COMPONENT_NAME = 'InputHelper';
const CLASSNAME: LumxClassName<typeof COMPONENT_NAME> = 'lumx-input-helper';
const DEFAULT_PROPS: Partial<InputHelperProps> = {
    kind: Kind.info,
};

const INPUT_HELPER_CONFIGURATION: Record<string, { color: string }> = {
    [Kind.error]: { color: 'red' },
    [Kind.success]: { color: 'green' },
    [Kind.warning]: { color: 'yellow' },
};

export const InputHelper = (props: InputHelperProps) => {
    const {
        children,
        className,
        kind = DEFAULT_PROPS.kind,
        theme,
        ref,
        ...forwardedProps
    } = props;
    const { color } = INPUT_HELPER_CONFIGURATION[kind as string] || {};

    return (
        <p
            ref={ref}
            {...forwardedProps}
            className={classNames.join(
                className,
                handleBasicClasses({ prefix: CLASSNAME, color, theme }),
            )}
        >
            {children}
        </p>
    );
};

InputHelper.displayName = COMPONENT_NAME;
InputHelper.className = CLASSNAME;
InputHelper.defaultProps = DEFAULT_PROPS;
```

**Step 2: Create the Core Tests in `packages/lumx-core/src/js/components/[ComponentName]/Tests.ts`**

This file will contain the agnostic `setup` function and the logic/rendering tests.

*   Export a `setup` function that accepts `propsOverride` and `{ wrapper, render }`.
*   Export a default function containing the tests (`describe` blocks), accepting `renderOptions`.
*   Move logic-based tests (Props, ClassName assertions) here.
*   **Crucial:** Do not import from `@lumx/react`. Use local constants/types.

Example (`packages/lumx-core/src/js/components/InputHelper/Tests.ts`):
```tsx
import { Kind, Theme } from '../../constants';
import { SetupRenderOptions } from '../../../testing';
import { getByClassName } from '../../../testing/queries';
import { InputHelper, InputHelperProps } from '.';

const CLASSNAME = InputHelper.className as string;

const INPUT_HELPER_CONFIGURATION: Record<string, { color: string }> = {
    [Kind.error]: { color: 'red' },
    [Kind.success]: { color: 'green' },
    [Kind.warning]: { color: 'yellow' },
};

type SetupProps = Partial<InputHelperProps>;

export const setup = <T>(
    propsOverride: SetupProps = {},
    { wrapper, render }: SetupRenderOptions<T, InputHelperProps> = {},
) => {
    const props: InputHelperProps = {
        children: 'Helper text',
        ...propsOverride,
    };
    render?.(props, { wrapper });
    const helper = getByClassName(document.body, CLASSNAME);
    return { helper, props };
};

export default <T>(renderOptions: SetupRenderOptions<T, InputHelperProps>) => {
    describe('Props', () => {
        it('should render text', () => {
            const { props, helper } = setup({ children: 'helper text' }, renderOptions);
            expect(helper).toHaveTextContent(props.children as string);
            expect(helper).toHaveClass(CLASSNAME);
        });

        it.each(Object.values(Kind))('should render kind %s', (kind) => {
            const { helper } = setup({ kind }, renderOptions);
            const { color } = INPUT_HELPER_CONFIGURATION[kind as string] || {};
            if (color) expect(helper).toHaveClass(`${CLASSNAME}--color-${color}`);
        });
    });
};
```

**Step 3: Migrate Stories to `packages/lumx-core/src/js/components/[ComponentName]/Stories.ts`**

This file will contain the platform-agnostic story definitions (argTypes, basic args).

*   Move shared story definitions (e.g., `Default`, `AllKinds`) here.
*   Ensure imports use `@lumx/core` or local sources.
*   **Crucial:** Do not import from `@lumx/react`.

Example (`packages/lumx-core/src/js/components/InputHelper/Stories.ts`):
```tsx
import { Kind } from '@lumx/core/js/constants';
import { getSelectArgType } from '@lumx/core/stories/controls/selectArgType';

export const Default = {
    argTypes: {
        kind: getSelectArgType(Kind),
    },
};

export const AllKinds = {
    argTypes: { kind: { control: false } },
};
```

**Step 4: Update the React wrapper in `packages/lumx-react/src/components/[componentName]/[ComponentName].tsx`**

*   Import the component as `UI` (alias).
*   Export the Props type.
*   Use `forwardRef`.
*   Handle `theme` using `useTheme()` with a fallback to `Theme.light`.
*   Assign static properties (`displayName`, `className`, `defaultProps`) from `UI`.

Example (`packages/lumx-react/src/components/input-helper/InputHelper.tsx`):
```tsx
import { InputHelper as UI, InputHelperProps } from '@lumx/core/js/components/InputHelper';
import { Theme } from '@lumx/react';
import { forwardRef } from '@lumx/react/utils/react/forwardRef';
import { useTheme } from '@lumx/react/utils/theme/ThemeContext';

export type { InputHelperProps };

export const InputHelper = forwardRef<InputHelperProps, HTMLParagraphElement>((props, ref) => {
    const defaultTheme = useTheme() || Theme.light;
    return UI({ ...props, ref, theme: props.theme || defaultTheme });
});

InputHelper.displayName = UI.displayName;
InputHelper.className = UI.className;
InputHelper.defaultProps = UI.defaultProps;
```

**Step 5: Update React Tests in `packages/lumx-react/src/components/[componentName]/[ComponentName].test.tsx`**

*   Import `Base[ComponentName]Tests` and `setup` from the Core test file.
*   Use `Base[ComponentName]Tests({ render: renderComponent })` to run shared tests.
*   Keep `commonTestsSuiteRTL` for React-specific behavior (refs, theme context).
*   Remove moved logic tests.

Example (`packages/lumx-react/src/components/input-helper/InputHelper.test.tsx`):
```tsx
import { render } from '@testing-library/react';
import BaseInputHelperTests, { setup } from '@lumx/core/js/components/InputHelper/Tests';
import { commonTestsSuiteRTL, SetupRenderOptions } from '@lumx/react/testing/utils';
import { InputHelper, InputHelperProps } from './InputHelper';

const CLASSNAME = InputHelper.className as string;

describe(`<${InputHelper.displayName}>`, () => {
    const renderInputHelper = (props: InputHelperProps, options: SetupRenderOptions<InputHelperProps>) =>
        render(<InputHelper {...props} />, options);

    BaseInputHelperTests({ render: renderInputHelper });

    const setupInputHelper = (props: Partial<InputHelperProps> = {}, options: SetupRenderOptions<InputHelperProps> = {}) =>
        setup(props, { ...options, render: renderInputHelper });

    commonTestsSuiteRTL(setupInputHelper, {
        baseClassName: CLASSNAME,
        forwardClassName: 'helper',
        forwardAttributes: 'helper',
        applyTheme: {
            affects: [{ element: 'helper' }],
            viaProp: true,
            viaContext: true,
            defaultTheme: 'light',
        },
    });
});
```

**Step 6: Update React Stories in `packages/lumx-react/src/components/[componentName]/[ComponentName].stories.tsx`**

*   Import the shared stories from the core package.
*   Recompose the stories using React-specific decorators (like `withCombinations`).

Example (`packages/lumx-react/src/components/input-helper/InputHelper.stories.tsx`):
```tsx
import { InputHelper, Kind } from '@lumx/react';
import { withCombinations } from '@lumx/react/stories/decorators/withCombinations';
import { withUndefined } from '@lumx/core/stories/controls/withUndefined';
import { AllKinds as AllKindsStory, Default } from '@lumx/core/js/components/InputHelper/Stories';

export default {
    title: 'LumX components/input-helper/Input Helper',
    component: InputHelper,
    args: {
        ...InputHelper.defaultProps,
        children: 'Some helper text',
    },
    ...Default,
};

export const AllKinds = {
    ...AllKindsStory,
    decorators: [
        withCombinations({
            combinations: {
                rows: { key: 'kind', options: withUndefined(Kind) },
            },
        }),
    ],
};
```

**Step 7: Clean up**
*   Remove unused files (e.g., `constants.ts`) in the React package.

"""