<div class="lumx-text-field" ng-class="lx.getClasses()">
    <div class="lumx-text-field__header" ng-if="::lx.label">
        <lx-input-label
            for="{{ lx.inputId }}"
            class="lumx-text-field__label"
            lx-is-required="lx.isRequired"
            lx-theme="{{ lx.theme }}"
        >
            {{ lx.label }}
        </lx-input-label>

        <div class="lumx-text-field__char-counter" ng-if="lx.maxlength">
            <span>{{ lx.maxlength - lx.getValueLength() }}</span>

            <lx-icon
                lx-path="{{ lx.icons.mdiAlertCircle }}"
                lx-size="xxs"
                ng-if="lx.maxlength - lx.getValueLength() === 0"
            ></lx-icon>
        </div>
    </div>

    <div class="lumx-text-field__wrapper">
        <lx-icon
            class="lumx-text-field__input-icon"
            lx-path="{{ lx.icon }}"
            lx-size="xs"
            ng-if="::lx.icon && !lx.hasChips"
        ></lx-icon>

        <div class="lumx-text-field__chips" ng-transclude="chips" ng-if="::lx.hasChips"></div>

        <div class="lumx-text-field__input-wrapper">
            <div class="lumx-text-field__input-native" ng-transclude ng-if="::!lx.hasInput"></div>
            <div class="lumx-text-field__input-native" ng-transclude="input" ng-if="::lx.hasInput"></div>

            <lx-icon
                class="lumx-text-field__input-validity"
                lx-path="{{ lx.isValid ? lx.icons.mdiCheckCircle : lx.icons.mdiAlertCircle }}"
                lx-size="xxs"
                ng-if="lx.isValid || lx.hasError"
            ></lx-icon>

            <lx-button
                type="button"
                class="lumx-text-field__input-clear"
                lx-emphasis="low"
                lx-size="s"
                lx-theme="{{ lx.theme }}"
                lx-variant="icon"
                ng-if="lx.isClearable && lx.getValueLength() > 0"
                ng-click="lx.clearModel($event)"
            >
                <lx-icon lx-path="{{ lx.icons.mdiCloseCircle }}"></lx-icon>
            </lx-button>
        </div>
    </div>

    <lx-input-helper class="lumx-text-field__helper" lx-kind="error" lx-theme="{{ lx.theme }}" ng-if="lx.error">
        {{ lx.error }}
    </lx-input-helper>

    <lx-input-helper class="lumx-text-field__helper" lx-theme="{{ lx.theme }}" ng-if="lx.helper">
        {{ lx.helper }}
    </lx-input-helper>
</div>
