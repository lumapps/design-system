<div class="lumx-comment-block" ng-class="lx.getClasses()">
    <div class="lumx-comment-block__wrapper">
        <div class="lumx-comment-block__avatar">
            <lx-avatar
                lx-image="{{ lx.avatar }}"
                lx-size="m"
                lx-theme="{{ lx.theme }}"
                lx-enter-keydown="lx.onClick()"
                ng-click="lx.onClick()"
                ng-mouseenter="lx.onMouseEnter()"
                ng-mouseleave="lx.onMouseLeave()"
                tabindex="{{ lx.onClick ? 0 : -1 }}"
            ></lx-avatar>
        </div>

        <div class="lumx-comment-block__container">
            <div class="lumx-comment-block__content">
                <div class="lumx-comment-block__meta">
                    <span
                        class="lumx-comment-block__name"
                        lumx-enter-keypress="lx.onClick()"
                        ng-click="lx.onClick()"
                        ng-mouseenter="lx.onMouseEnter()"
                        ng-mouseleave="lx.onMouseLeave()"
                        tabindex="{{ lx.onClick ? 0 : -1 }}"
                    >
                        {{ lx.name }}
                    </span>

                    <span class="lumx-comment-block__date" ng-if="lx.date">{{ lx.date }}</span>
                    <span class="lumx-comment-block__header-actions" ng-if="lx.headerActions"
                        >{{ lx.headerActions }}</span
                    >
                </div>

                <p class="lumx-comment-block__text">
                    {{ lx.text }}
                </p>
            </div>

            <div class="lumx-comment-block__actions" ng-transclude="actions" ng-if="lx.hasActions"></div>
        </div>
    </div>

    <div class="lumx-comment-block__children" ng-transclude="children" ng-if="lx.hasChildren && lx.isOpen"></div>
</div>
