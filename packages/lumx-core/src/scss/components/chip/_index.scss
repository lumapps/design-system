/* ==========================================================================
   Chip
   ========================================================================== */

.lumx-chip {
    $self: &;

    @include lumx-chip-base;

    &__before {
        @include lumx-chip-before;
    }

    &__label {
        #{$self}--size-m & {
            @include lumx-chip-label("m");
        }

        #{$self}--size-s & {
            @include lumx-chip-label("s");
        }
    }

    &__after {
        @include lumx-chip-after;
    }
}

/* Chip size
   ========================================================================== */

.lumx-chip--size-m {
    @include lumx-chip-size("m");

    padding: 0 var(--lumx-material-chip-size-m-padding-vertical);

    &.lumx-chip--has-before {
        padding-left: $lumx-spacing-unit * 1.5;
    }

    &.lumx-chip--has-after {
        padding-right: $lumx-spacing-unit * 1.5;
    }
}

.lumx-chip--size-s {
    @include lumx-chip-size("s");

    padding: 0 var(--lumx-material-chip-size-s-padding-vertical);

    &.lumx-chip--has-before {
        padding-left: $lumx-spacing-unit;
    }

    &.lumx-chip--has-after {
        padding-right: $lumx-spacing-unit;
    }
}

/* Chip states
   ========================================================================== */

.lumx-chip--is-clickable {
    @include lumx-state-transition;

    cursor: pointer;
}

@each $key, $color in $lumx-color-palette {
    .lumx-chip--is-unselected.lumx-chip--color-#{$key} {
        @include lumx-state("state-default", "emphasis-medium", $key);

        &.lumx-chip--is-clickable {
            &:hover,
            &[data-lumx-hover] {
                @include lumx-state("state-hover", "emphasis-medium", $key);
            }

            &:active,
            &[data-lumx-active] {
                @include lumx-state("state-active", "emphasis-medium", $key);
            }
        }

        @if $key == "dark" {
            .lumx-chip__label {
                color: lumx-color-variant("dark", "L1");
            }
        }
    }

    .lumx-chip--color-#{$key} {
        &[data-focus-visible-added],
        &.lumx-chip--is-highlighted {
            @include lumx-state("state-focus", "emphasis-medium", $key);
        }
    }
}

.lumx-chip--is-selected {
    &.lumx-chip--color-dark {
        @include lumx-state-as-selected(
            "state-default",
            "theme-light",
            "chip"
        );

        &.lumx-chip--is-clickable {
            &:hover,
            &[data-lumx-hover] {
                @include lumx-state-as-selected(
                    "state-hover",
                    "theme-light",
                    "chip"
                );
            }

            &:active,
            &[data-lumx-active] {
                @include lumx-state-as-selected(
                    "state-active",
                    "theme-light",
                    "chip"
                );
            }

            &[data-focus-visible-added] {
                @include lumx-state-as-selected(
                    "state-focus",
                    "theme-light",
                    "chip"
                );
            }
        }
    }

    &.lumx-chip--color-light {
        @include lumx-state-as-selected(
            "state-default",
            "theme-dark",
            "chip"
        );

        &.lumx-chip--is-clickable {
            &:hover,
            &[data-lumx-hover] {
                @include lumx-state-as-selected(
                    "state-hover",
                    "theme-dark",
                    "chip"
                );
            }

            &:active,
            &[data-lumx-active] {
                @include lumx-state-as-selected(
                    "state-active",
                    "theme-dark",
                    "chip"
                );
            }

            &[data-focus-visible-added] {
                @include lumx-state-as-selected(
                    "state-focus",
                    "theme-dark",
                    "chip"
                );
            }
        }
    }
}

.lumx-chip--is-disabled {
    @include lumx-state-disabled-input;
}

/* Chip group
   ========================================================================== */

.lumx-chip-group {
    display: flex;
    flex-wrap: wrap;
    gap: $lumx-chip-group-spacing * 2;
}
