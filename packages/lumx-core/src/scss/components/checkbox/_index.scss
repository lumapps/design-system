@use "sass:math";

/* ==========================================================================
   Checkbox
   ========================================================================== */

.lumx-checkbox {
    $self: &;

    display: flex;

    &__input-wrapper {
        @include lumx-checkbox-input-wrapper;
    }

    &__input-native {
        @include lumx-checkbox-input-native;
    }

    &__input-placeholder {
        @include lumx-checkbox-placeholder;
    }

    &__input-background {
        @include lumx-checkbox-input-background;

        #{$self}--theme-light & {
            @include lumx-state("state-default", "emphasis-low", "dark");
        }

        #{$self}--theme-dark & {
            @include lumx-state("state-default", "emphasis-low", "light");
        }

        #{$self}--is-unchecked & {
            @include lumx-checkbox-input-background-status("unchecked");
        }

        #{$self}--is-checked & {
            @include lumx-checkbox-input-background-status("checked");
        }
    }

    &__input-indicator {
        @include lumx-checkbox-input-indicator;

        #{$self}--theme-light & {
            @include lumx-state(
                "state-default",
                "emphasis-high",
                "primary",
                "theme-light"
            );
        }

        #{$self}--theme-dark & {
            @include lumx-state(
                "state-default",
                "emphasis-high",
                "primary",
                "theme-dark"
            );
        }

        #{$self}--is-unchecked & {
            @include lumx-checkbox-input-indicator-status("unchecked");
        }

        #{$self}--is-checked & {
            @include lumx-checkbox-input-indicator-status("checked");
        }
    }

    &__label,
    &__helper {
        padding-left: $lumx-spacing-unit;
    }

    &__helper {
        margin-top: math.div($lumx-spacing-unit, 2);
    }
}

/* Checkbox states
   ========================================================================== */

// Disabled state
.lumx-checkbox--is-disabled {
    .lumx-checkbox__input-native {
        pointer-events: none;
    }

    .lumx-checkbox__input-placeholder {
        @include lumx-state-disabled-input;
    }

    &.lumx-checkbox--theme-light {
        .lumx-checkbox__label,
        .lumx-checkbox__helper {
            @include lumx-state-disabled-text("theme-light");
        }
    }

    &.lumx-checkbox--theme-dark {
        .lumx-checkbox__label,
        .lumx-checkbox__helper {
            @include lumx-state-disabled-text("theme-dark");
        }
    }
}

// Hover state
.lumx-checkbox--theme-light.lumx-checkbox--is-unchecked .lumx-checkbox__input-native:hover + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-background {
        @include lumx-state("state-hover", "emphasis-low", "dark");
    }
}

.lumx-checkbox--theme-dark.lumx-checkbox--is-unchecked .lumx-checkbox__input-native:hover + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-background {
        @include lumx-state("state-hover", "emphasis-low", "light");
    }
}

.lumx-checkbox--theme-light.lumx-checkbox--is-checked .lumx-checkbox__input-native:hover + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-indicator {
        @include lumx-state(
            "state-hover",
            "emphasis-high",
            "primary",
            "theme-light"
        );
    }
}

.lumx-checkbox--theme-dark.lumx-checkbox--is-checked .lumx-checkbox__input-native:hover + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-indicator {
        @include lumx-state(
            "state-hover",
            "emphasis-high",
            "primary",
            "theme-dark"
        );
    }
}

// Active state
.lumx-checkbox--theme-light.lumx-checkbox--is-unchecked .lumx-checkbox__input-native:active + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-background {
        @include lumx-state("state-active", "emphasis-low", "dark");
    }
}

.lumx-checkbox--theme-dark.lumx-checkbox--is-unchecked .lumx-checkbox__input-native:active + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-background {
        @include lumx-state("state-active", "emphasis-low", "light");
    }
}

.lumx-checkbox--theme-light.lumx-checkbox--is-checked .lumx-checkbox__input-native:active + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-indicator {
        @include lumx-state(
            "state-active",
            "emphasis-high",
            "primary",
            "theme-light"
        );
    }
}

.lumx-checkbox--theme-dark.lumx-checkbox--is-checked .lumx-checkbox__input-native:active + .lumx-checkbox__input-placeholder {
    .lumx-checkbox__input-indicator {
        @include lumx-state(
            "state-active",
            "emphasis-high",
            "primary",
            "theme-dark"
        );
    }
}

// Focus state
.lumx-checkbox--theme-light.lumx-checkbox--is-unchecked .lumx-checkbox__input-native[data-focus-visible-added] + .lumx-checkbox__input-placeholder {
    @include lumx-state("state-focus", "emphasis-low", "dark");
}

.lumx-checkbox--theme-dark.lumx-checkbox--is-unchecked .lumx-checkbox__input-native[data-focus-visible-added] + .lumx-checkbox__input-placeholder {
    @include lumx-state("state-focus", "emphasis-low", "light");
}

.lumx-checkbox--theme-light.lumx-checkbox--is-checked .lumx-checkbox__input-native[data-focus-visible-added] + .lumx-checkbox__input-placeholder {
    @include lumx-state(
        "state-focus",
        "emphasis-high",
        "primary",
        "theme-light"
    );
}

.lumx-checkbox--theme-dark.lumx-checkbox--is-checked .lumx-checkbox__input-native[data-focus-visible-added] + .lumx-checkbox__input-placeholder {
    @include lumx-state(
        "state-focus",
        "emphasis-high",
        "primary",
        "theme-dark"
    );
}
